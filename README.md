# 감정 분석 및 위로 문장 추천 서비스

## 1. 프로젝트 소개

이 프로젝트는 사용자가 하루의 감정을 짧게 기록하면, AI가 이를 분석해 따뜻한 위로와 격려의 문장을 추천하는 어플리케이션입니다. 사용자는 그 문장을 필사하며 위로와 성찰의 시간을 가질 수 있습니다.

## 2. 서비스 목적

* **성찰의 시간 제공** : 추천받은 문장을 차분히 필사하며 스스로의 마음을 들여다보고, 따뜻한 위로 속에서 하루를 마무리할 수 있도록 돕습니다.

* **감정 일기** : 자신의 감정 상태를 꾸준히 기록하고 트래킹하며 일기처럼 활용할 수 있는 개인적인 공간을 제공합니다.

## 3. 사용한 기술

- **Frontend:** React, Vite, JavaScript (ES6+), CSS
- **Backend:** Python, Flask
- **Database & Auth:** Supabase, PostgreSQL
- **AI:** Large Language Model (LLM) API
- **Version Control:** Git

## 4. 프로젝트 주요 기능

- **사용자 인증 (Supabase)**
  - `Supabase`를 활용하여 구글과 카카오 로그인으로 안전하고 간편한 인증 시스템을 구축했습니다.

- **AI 기반 감정 분석**
  - 사용자는 메인 페이지에서 자신의 감정을 나타내는 문장을 자유롭게 입력합니다.
  - 백엔드 서버(Flask)는 전달받은 텍스트를 사전 학습된 거대 언어 모델(LLM) API에 전달합니다.
  - LLM은 문장의 맥락과 뉘앙스를 파악하여 핵심 감정을 분석하고 분류합니다.

- **맞춤형 문장 추천 및 결과 표시**
  - AI의 분석 결과를 바탕으로, 미리 구축된 데이터베이스에서 가장 적절한 위로와 격려의 문장을 사용자에게 제공합니다. 

- **필사 및 감정 기록 관리**
  - 사용자의 감정 분석 결과와 필사(입력) 내역을 데이터베이스에 저장하고, 리스트 형태로 제공하여 기록을 쉽게 관리하고 열람할 수 있도록 합니다. 

## 5. AI 적용 방식: 2-Step 분석 모델

이 프로젝트는 LLM의 예측 불가능성을 제어하고 일관된 결과물을 제공하기 위해 **2-Step 분석 모델**을 적용했습니다. 

1.  **1단계: 감정 및 상황 분류 (Classification)**
    - 사용자가 입력한 텍스트를 LLM에 전달하여 `기쁨`, `슬픔` 등의 **핵심 감정**과 `시험`, `직장` 등 **구체적인 상황**을 함께 분류합니다.
    - 단순히 키워드 매칭이 아닌, 문장의 전체적인 맥락을 이해하여 분석 정확도를 높였습니다.

2.  **2단계: 분류 기반 콘텐츠 추천 (Rule-based Recommendation)**
    - 분석된 `감정`+`상황` 조합에 가장 적합한 문장을 **미리 구축된 데이터베이스**에서 안전하게 선택하여 추천합니다. 이 방식으로 AI가 직접 문장을 생성할 때 발생할 수 있는 위험을 차단하고 서비스의 안정성을 확보했습니다.

## 6. 트러블 슈팅

### Challenge 1: 프로젝트의 '감성'에 맞는 데이터 확보
- **문제점**
  - 초기에는 AI-Hub에 공개된 소설 속 문장을 활용하여 사용자에게 문장을 추천했습니다. 
  - 하지만 문학 작품 특유의 서사적이고 중립적인 표현들이 많아, 프로젝트가 추구하는 '따뜻한 위로'의 느낌을 전달하기에는 적합하지 않았습니다.
- **해결책**
  - 데이터 소스를 공감대 형성이 용이한 **드라마와 영화 속 명대사**로 변경하여 서비스의 만족도를 높였습니다.                                                                         
  - 현재는 직접 양질의 문장을 수집하여 DB를 확장하고 있으며, 향후 이 과정을 자동화할 방법을 모색 중입니다.  

### Challenge 2: 단편적인 감정 분석의 부정확성
- **문제점**
  - 초기 모델은 사용자의 '감정'만 분석하여, '시험 때문에 힘든' 사람에게 '실연'에 대한 위로를 건네는 등 맥락에 맞지 않는 추천을 하는 경우가 잦았습니다.
- **해결책**
  - **'상황 분석'** 레이어를 추가하여 `감정`+`상황`을 함께 보도록 모델을 개선했습니다.
  - 이를 통해 사용자의 맥락에 훨씬 더 적합한 깊이 있는 맞춤형 문장을 추천할 수 있었습니다.

### Challenge 3: 안전하고 효율적인 사용자 인증 시스템 구축
- **문제점**
  - 로그인, 세션 관리, 보안 등 인증 시스템을 직접 구현하는 것은 많은 시간과 노력이 필요한 작업이었습니다.
- **해결책**
  - `Superbase`가 제공하는 인증 API를 활용해 이메일 로그인, 소셜 로그인 기능을 빠르게 구현하였습니다.

## 7. 향후 개선 계획

- **모바일 애플리케이션 개발**
  - 모바일 앱으로 확장하여 사용자의 접근성을 높일 예정입니다.

- **멀티미디어 기반 감정 분석 및 일기 기능**
  - 사용자가 감정을 직접 입력하지 않고 **사진만 업로드해도 AI가 이미지에서 감정을 분석**할 수 있는 기능을 추가할 계획입니다. 
  - 이를 통해 더욱 편리하게 감정을 기록하고, 시각적인 요소가 결합된 풍부한 '일기' 경험을 제공하여 서비스를 발전시키고자 합니다.